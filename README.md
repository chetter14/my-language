# My Language

Проект разработки собственного языка.

## Build

Необходимо открыть `MyLanguage.sln` решение в Visual Studio. После собрать проект `MyLanguage`. В результате в корневой папке репозитория по пути - `./x64/Debug/` появится файл `MyLang.exe`. 

## Run

### AST:

Для удобства перед запуском надо положить `codeSample.ml` файл (можно взять из `/common/codeSample.ml`) в ту же папку, где лежит собранный `MyLang.exe`. Теперь можно запускать программу в командной строке:
```
> MyLang codeSample.ml output.dot
```
Если всё выполнится успешно, то рядом образуется файл `output.dot`. Дальше этот файл можно закодировать в любой другой формат для отображения, я конвертировал в `.png`:
```
> dot -Tpng output.dot -o output.png
```
При успешном выполнении рядом можно будет увидеть файл `output.png`, который показывает абстрактное синтаксическое дерево исходного кода `codeSample.ml` файла, построенное по правилам, описанным в `MyLanguage.g` файле (находится рядом в `/common/` папке).

### Control-flow graph:

Перед запуском необходимо положить `example.ml` файл (можно взять из `/common`) в ту же папку, где лежит собранный `MyLang.exe`. Теперь можно запускать программу в командной строке:
```
> MyLang example.ml output.dot
```
Если всё выполнится успешно, то рядом образуются следующие файлы: 
- `output.dot` - содержит АСД.
- `CallGraph.txt` - содержит граф потока вызовов.
- `main.dot` - файл, с графом потока управления функции main. Если функций в файле будет несколько, то и таких `.dot` файлов будет столько же.

Дальше этот `main.dot` файл можно закодировать в любой другой формат для отображения, я конвертировал в `.png`:
```
> dot -Tpng main.dot -o main.png    
```
При успешном выполнении рядом можно будет увидеть файл `main.png`, который отображает граф потока управления функции `main()` в файле `example.ml`.